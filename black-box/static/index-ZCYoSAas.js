var R=Object.defineProperty;var q=(a,t,o)=>t in a?R(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;var U=(a,t,o)=>(q(a,typeof t!="symbol"?t+"":t,o),o);import{A as N,E as O}from"./element-6gQIHJdP.js";import{l as D,Z as E,ag as l,m as i,p,T as e,O as s,S as w,F as S,a7 as B,I as F,q as n,R as m,Q as I,M as T,aH as P,aI as A,r as K,a8 as W}from"./vue-VcoQquIj.js";import{_ as M}from"./index-lFL-jb0t.js";import{T as j}from"./index-2yEeR0tu.js";import{g as V,l as H,a as Q}from"./index-CEcHv6DH.js";import"./vxe-tL1L_PWW.js";const Z={class:"container-left"},G=["onClick"],J=D({__name:"session-list",emits:["change"],setup(a,{emit:t}){const o=E({list:[],curChat:void 0}),u=t,d=_=>{o.curChat=_.id,u("change",_)},h=()=>{o.list.push({id:Date.now(),name:`chat ${new Date().getTime()}`})},r=(_,f)=>{_.stopPropagation(),N.prompt("请输入名称","名称修改",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:c=>!!c}).then(({value:c})=>{o.list[f].name=c,O({type:"success",message:"操作成功"})})},x=(_,f)=>{_.stopPropagation(),N.confirm("确认删除？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",draggable:!0}).then(()=>{o.list=o.list.filter((c,y)=>y!=f),O({type:"success",message:"删除成功"})})};return(_,f)=>{const c=l("el-button"),y=l("EditPen"),g=l("el-icon"),v=l("Delete");return i(),p("div",Z,[e(c,{onClick:h,style:{width:"100%","margin-bottom":"25px"},type:"primary",icon:"Plus",plain:"",size:"mini"},{default:s(()=>[w(" new chat ")]),_:1}),(i(!0),p(S,null,B(o.list,($,C)=>(i(),p("div",{onClick:k=>d($),class:F([$.id==o.curChat?"container-left-item-active":"","container-left-item"])},[n("span",null,m($.name),1),e(g,{onClick:k=>r(k,C),class:"container-left-item-edit"},{default:s(()=>[e(y)]),_:2},1032,["onClick"]),e(g,{onClick:k=>x(k,C),class:"container-left-item-del"},{default:s(()=>[e(v)]),_:2},1032,["onClick"])],10,G))),256))])}}}),X=M(J,[["__scopeId","data-v-e6f1e186"]]);class Y{constructor(){U(this,"list");this.list=[]}$emit(t,...o){(this.list[t]||[]).forEach(d=>{d.apply(this,o)})}$on(t,o){const u=this.list[t]||[];u.push(o),this.list[t]=u}}const z=new Y,L=a=>(P("data-v-3ac16a2a"),a=a(),A(),a),tt={class:"container-right-chat",ref:"chatList"},et={class:"container-right-chat-item"},ot={class:"container-right-chat-item-icon"},nt={class:"container-right-chat-item-content"},at={class:"container-right-chat-item-content-title"},lt={key:0,class:"container-right-chat-item-content-label"},st={key:1,class:"container-right-chat-item-content-label2"},ct={style:{width:"100%"}},it=["onClick"],rt=L(()=>n("span",null,"文档出处",-1)),_t=L(()=>n("div",{style:{clear:"both"}},null,-1)),dt={key:0,class:"container-right-chat-item-content-label2",style:{"background-color":"#fff","margin-top":"20px"}},pt={style:{"text-align":"right"}},ut=D({__name:"chat-box",props:{},setup(a){const t=E({cur_chat_list:[]});return z.$on("enter-text",o=>{t.cur_chat_list.push({issuer:1,text:o}),t.cur_chat_list.push({issuer:2,isMore:!1,text:V(240),from_text:Array.from({length:5}).map(u=>({title:V(20)+".txt",content:V(340),path:"/user/DeskTop/files/"+V(20)+".txt"}))})}),(o,u)=>{const d=l("SvgIcon"),h=l("ArrowDown"),r=l("el-icon"),x=l("el-link"),_=l("el-collapse-item"),f=l("el-collapse");return i(),p("div",tt,[(i(!0),p(S,null,B(t.cur_chat_list,(c,y)=>(i(),p("div",et,[n("div",ot,[e(d,{style:{"font-size":"28px"},name:c.issuer==1?"user":"jqr"},null,8,["name"])]),n("div",nt,[n("div",at,m(c.issuer==1?"你：":"机器人："),1),c.issuer==1?(i(),p("div",lt,m(c.text),1)):I("",!0),c.issuer==2?(i(),p("div",st,[n("div",ct,[e(j,{style:{"background-color":"transparent",margin:"10px"},text:c.text,height:"100%"},null,8,["text"])]),n("div",{onClick:g=>c.isMore=!c.isMore,class:"container-right-chat-item-content-label2-from"},[rt,e(r,{style:{"margin-left":"4px"}},{default:s(()=>[e(h)]),_:1})],8,it),_t,c.isMore?(i(),p("div",dt,[e(f,{accordion:""},{default:s(()=>[(i(!0),p(S,null,B(c.from_text,(g,v)=>(i(),T(_,{name:v},{title:s(()=>[n("div",null,[n("span",null,"来源"+m(v+1)+"：",1),n("span",null,m(g.title),1)])]),default:s(()=>[n("div",null,m(g.content),1),n("div",null,[e(x,{style:{"margin-top":"10px"},type:"primary"},{default:s(()=>[w("路径："+m(g.path),1)]),_:2},1024)]),n("div",pt,[e(x,{style:{"margin-top":"13px"},type:"primary"},{default:s(()=>[w("查看原文")]),_:1})])]),_:2},1032,["name"]))),256))]),_:2},1024)])):I("",!0)])):I("",!0)])]))),256))],512)}}}),mt=M(ut,[["__scopeId","data-v-3ac16a2a"]]),ht=a=>(P("data-v-aae69576"),a=a(),A(),a),ft={class:"container-right-action"},gt=ht(()=>n("div",{class:"el-upload__text"},[w("拖动文件到这里或者"),n("em",null,"点击上传")],-1)),xt={class:"fy_title"},vt={style:{height:"600px","overflow-y":"scroll","overflow-x":"hidden",width:"100%",border:"1px solid var(--el-border-color)","word-wrap":"break-word",padding:"10px"}},bt={class:"fy_title"},yt={style:{"--un-animation-delay":"0.6s"},class:"animate-jump"},kt={class:"dialog-footer"},wt=D({__name:"action",setup(a){const t=E({cur_chat_text:"",lan:"",dialog_conf:{visiable:!1,title:"翻译",isDestory:!1,draggable:!0,closeOnClickModal:!1},form_data:{text:"",old_text:"",right_title:"",left_title:""},opt_conf:{lan_opt:H}});K(null);const o=()=>{t.form_data.text=V(100),t.form_data.old_text=Q(400)},u=h=>{t.dialog_conf.visiable=!0},d=h=>{z.$emit("enter-text",t.cur_chat_text),t.cur_chat_text=""};return(h,r)=>{const x=l("el-select"),_=l("el-input"),f=l("el-cascader"),c=l("upload-filled"),y=l("el-icon"),g=l("el-upload"),v=l("el-col"),$=l("el-row"),C=l("el-button"),k=l("el-dialog");return i(),p("div",ft,[e(_,{onKeyup:W(d,["enter"]),modelValue:t.cur_chat_text,"onUpdate:modelValue":r[0]||(r[0]=b=>t.cur_chat_text=b),clearable:""},{prepend:s(()=>[e(x,{placeholder:"类型",style:{width:"115px"}})]),_:1},8,["modelValue"]),e(f,{placeholder:"辅助功能",clearable:"",modelValue:t.lan,"onUpdate:modelValue":r[1]||(r[1]=b=>t.lan=b),options:t.opt_conf.lan_opt,onChange:u},null,8,["modelValue","options"]),e(k,{modelValue:t.dialog_conf.visiable,"onUpdate:modelValue":r[4]||(r[4]=b=>t.dialog_conf.visiable=b),title:t.dialog_conf.title,"destroy-on-close":t.dialog_conf.isDestory,draggable:t.dialog_conf.draggable,"close-on-click-modal":t.dialog_conf.closeOnClickModal,width:"1100"},{footer:s(()=>[n("span",kt,[e(C,{onClick:r[2]||(r[2]=b=>t.dialog_conf.visiable=!1)},{default:s(()=>[w("取消")]),_:1}),e(C,{type:"primary",onClick:r[3]||(r[3]=b=>t.dialog_conf.visiable=!1)},{default:s(()=>[w("确定")]),_:1})])]),default:s(()=>[e(g,{"before-upload":o,class:"upload-demo",drag:""},{default:s(()=>[e(y,{class:"el-icon--upload"},{default:s(()=>[e(c)]),_:1}),gt]),_:1}),t.form_data.text?(i(),T($,{key:0,gutter:49},{default:s(()=>[e(v,{span:12},{default:s(()=>[n("div",xt,m(t.form_data.left_title),1),n("div",vt,m(t.form_data.old_text),1)]),_:1}),e(v,{span:12},{default:s(()=>[n("div",bt,[n("span",yt,m(t.form_data.right_title),1)]),e(j,{height:"600px",style:{border:"1px solid var(--el-border-color)"},text:t.form_data.text},null,8,["text"])]),_:1})]),_:1})):I("",!0)]),_:1},8,["modelValue","title","destroy-on-close","draggable","close-on-click-modal"])])}}}),$t=M(wt,[["__scopeId","data-v-aae69576"]]),Ct=a=>(P("data-v-ff9005fa"),a=a(),A(),a),Vt={class:"container"},It=Ct(()=>n("div",{style:{width:"30px"}},null,-1)),St={class:"container-right"},Bt=D({__name:"index",setup(a){const t=E({tabs:{},cur_tab:""}),o=d=>{delete t.tabs[d]},u=d=>{t.tabs[d.id]=d,t.cur_tab=d.id};return(d,h)=>{const r=l("el-tab-pane"),x=l("el-tabs");return i(),p("div",Vt,[e(X,{onChange:u}),It,n("div",St,[Object.keys(t.tabs).length>0?(i(),T(x,{key:0,onEdit:o,editable:"",modelValue:t.cur_tab,"onUpdate:modelValue":h[0]||(h[0]=_=>t.cur_tab=_)},{default:s(()=>[(i(!0),p(S,null,B(t.tabs,(_,f)=>(i(),T(r,{label:_.name,name:_.id},{default:s(()=>[e(mt)]),_:2},1032,["label","name"]))),256))]),_:1},8,["modelValue"])):I("",!0),e($t)])])}}}),Nt=M(Bt,[["__scopeId","data-v-ff9005fa"]]);export{Nt as default};
