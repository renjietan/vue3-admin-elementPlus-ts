import{l as k,aE as C,r as f,Z as I,ag as s,m as S,p as U,T as e,q as c,O as a,u as n,a2 as q,S as z,a8 as F,aH as M,aI as R}from"./vue-VcoQquIj.js";import{e as B,d as K,_ as N}from"./index-lFL-jb0t.js";import{t as E,v as J,w as L,x as T,y as A}from"./element-6gQIHJdP.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-IcYeZTOu.js";import"./vxe-tL1L_PWW.js";const H="/v3-admin-vite/static/logo-Kn90oJaJ.png",O=i=>(M("data-v-744bec95"),i=i(),R(),i),Z={class:"login-container"},$={class:"login-card"},j=O(()=>c("div",{class:"title"},[c("img",{src:H})],-1)),G={class:"content"},P=k({__name:"index",setup(i){const h=C(),g=f(null),u=f(!1),p=f(""),o=I({username:"admin",password:"12345678",code:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},x=()=>{var r;(r=g.value)==null||r.validate((t,d)=>{t&&(u.value=!0,K().login(o).then(()=>{h.push({path:"/"})}).catch(()=>{m(),o.password=""}).finally(()=>{u.value=!1}))})},m=()=>{o.code="",p.value="",B().then(r=>{p.value=r.data})};return m(),(r,t)=>{const d=s("el-input"),_=s("el-form-item"),v=s("el-icon"),b=s("el-image"),V=s("el-button"),y=s("el-form");return S(),U("div",Z,[e(D,{class:"theme-switch"}),c("div",$,[j,c("div",G,[e(y,{ref_key:"loginFormRef",ref:g,model:o,rules:w,onKeyup:F(x,["enter"])},{default:a(()=>[e(_,{prop:"username"},{default:a(()=>[e(d,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=l=>o.username=l),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":n(E),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"password"},{default:a(()=>[e(d,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=l=>o.password=l),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":n(J),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{prop:"code"},{default:a(()=>[e(d,{modelValue:o.code,"onUpdate:modelValue":t[2]||(t[2]=l=>o.code=l),modelModifiers:{trim:!0},placeholder:"验证码",type:"text",tabindex:"3","prefix-icon":n(L),maxlength:"7",size:"large"},{append:a(()=>[e(b,{src:p.value,onClick:m,draggable:"false"},{placeholder:a(()=>[e(v,null,{default:a(()=>[e(n(T))]),_:1})]),error:a(()=>[e(v,null,{default:a(()=>[e(n(A))]),_:1})]),_:1},8,["src"])]),_:1},8,["modelValue","prefix-icon"])]),_:1}),e(V,{loading:u.value,type:"primary",size:"large",onClick:q(x,["prevent"])},{default:a(()=>[z("登 录")]),_:1},8,["loading"])]),_:1},8,["model"])])])])}}}),oe=N(P,[["__scopeId","data-v-744bec95"]]);export{oe as default};
