import{aB as Ye,Z as Ze,r as F,b as Oe,E as ze,d as we,z as ye,l as L,m as d,p as E,R as N,u as h,ag as k,q as C,T as p,O as b,W as We,aC as je,P as ie,M as x,Q as A,aD as ve,aE as me,F as K,a2 as re,a7 as te,H as ue,e as T,S as ee,a9 as Qe,I as U,aF as G,aG as Be,w as de,c as Ne,J as He,aH as ke,aI as Se,s as et,a8 as le,n as tt,aJ as nt,V as _e,U as he}from"./vue-VcoQquIj.js";import{g as ot,s as Re,u as ge,_ as D,a as Ue,b as Y,r as at,c as xe,d as st}from"./index-lFL-jb0t.js";import{f as se,h as lt,j as rt,g as ct,k as it,E as fe,l as ut,n as qe,u as dt,r as ft,o as pt,p as vt,q as mt,s as _t}from"./element-6gQIHJdP.js";import{_ as ht}from"./index.vue_vue_type_script_setup_true_lang-IcYeZTOu.js";import"./vxe-tL1L_PWW.js";var J=(n=>(n[n.Mobile=0]="Mobile",n[n.Desktop=1]="Desktop",n))(J||{});const gt="opened",Je="closed";function bt(n){n?Re(gt):Re(Je)}const ne=Ye("app",()=>{const n=Ze({opened:ot()!==Je,withoutAnimation:!1}),e=F(J.Desktop);return Oe(()=>n.opened,s=>bt(s)),{device:e,sidebar:n,toggleSidebar:s=>{n.opened=!n.opened,n.withoutAnimation=s},closeSidebar:s=>{n.opened=!1,n.withoutAnimation=s},toggleDevice:s=>{e.value=s}}}),wt=992,yt=()=>{const n=ne(),{listenerRouteChange:e}=ge(),t=()=>document.body.getBoundingClientRect().width-1<wt,o=()=>{if(!document.hidden){const a=t();n.toggleDevice(a?J.Mobile:J.Desktop),a&&n.closeSidebar(!0)}};e(()=>{n.device===J.Mobile&&n.sidebar.opened&&n.closeSidebar(!1)}),ze(()=>{window.addEventListener("resize",o)}),we(()=>{t()&&(n.toggleDevice(J.Mobile),n.closeSidebar(!0))}),ye(()=>{window.removeEventListener("resize",o)})},kt={defense:!0,color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:200},Ie=F(document.body);function St(n=Ie){let e,t,o=null;const a={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},s=(f,y={})=>{if(!n.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}e=f,t={...kt,...y},o?r():l(),c(n.value)},l=()=>{const f=n.value.tagName.toLowerCase()===Ie.value.tagName.toLowerCase(),y=f?"fixed":"absolute",M=f?"":"relative";o=document.createElement("div"),o.style.pointerEvents="none",o.style.top="0",o.style.left="0",o.style.position=y,o.style.zIndex="99999";const{clientWidth:V,clientHeight:R}=n.value;r({width:V,height:R}),n.value.style.position=M,n.value.appendChild(o)},r=(f={})=>{o&&(e&&(o.style.background=`url(${i()}) left top repeat`),f.width&&(o.style.width=`${f.width}px`),f.height&&(o.style.height=`${f.height}px`))},i=()=>{const{color:f,opacity:y,size:M,family:V,angle:R,width:O,height:H}=t,P=document.createElement("canvas");P.width=O,P.height=H;const z=P.getContext("2d");return z&&(z.fillStyle=f,z.globalAlpha=y,z.font=`${M}px ${V}`,z.rotate(Math.PI/180*R),z.fillText(e,0,H/2)),P.toDataURL()},m=()=>{if(!(!n.value||!o)){g();try{n.value.removeChild(o)}catch{console.warn("水印元素已不存在，请重新创建")}finally{o=null}}},u=se(()=>{m(),l(),c(n.value)},100),c=f=>{t.defense?!a.watermarkElMutationObserver&&!a.parentElMutationObserver&&w(f):g("mutation"),a.parentElResizeObserver||_(f)},g=(f="all")=>{var y,M,V;(f==="mutation"||f==="all")&&((y=a.watermarkElMutationObserver)==null||y.disconnect(),a.watermarkElMutationObserver=void 0,(M=a.parentElMutationObserver)==null||M.disconnect(),a.parentElMutationObserver=void 0),(f==="resize"||f==="all")&&((V=a.parentElResizeObserver)==null||V.disconnect(),a.parentElResizeObserver=void 0)},w=f=>{const y=se(M=>{M.forEach(se(V=>{switch(V.type){case"attributes":V.target===o&&u();break;case"childList":V.removedNodes.forEach(R=>{R===o&&f.appendChild(o)});break}},100))},100);a.watermarkElMutationObserver=new MutationObserver(y),a.parentElMutationObserver=new MutationObserver(y),a.watermarkElMutationObserver.observe(o,{attributes:!0,childList:!1,subtree:!1}),a.parentElMutationObserver.observe(f,{attributes:!1,childList:!0,subtree:!1})},_=f=>{const y=se(()=>{const{clientWidth:M,clientHeight:V}=f;r({width:M,height:V})},500);a.parentElResizeObserver=new ResizeObserver(y),a.parentElResizeObserver.observe(f)};return ye(()=>{m()}),{setWatermark:s,clearWatermark:m}}const xt={class:"layout-footer"},Ct=L({__name:"index",setup(n){const e="Black Box";return(t,o)=>(d(),E("footer",xt,N(h(e)),1))}}),Et=D(Ct,[["__scopeId","data-v-76382f24"]]),Mt={class:"app-main"},$t={class:"app-scrollbar"},Tt=L({__name:"AppMain",setup(n){const e=Ue(),t=Y();return(o,a)=>{const s=k("router-view"),l=k("el-backtop");return d(),E("section",Mt,[C("div",$t,[p(s,null,{default:b(({Component:r,route:i})=>[p(We,{name:"el-fade-in",mode:"out-in"},{default:b(()=>[(d(),x(je,{include:h(e).cachedViews},[(d(),x(ie(r),{key:i.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),h(t).showFooter?(d(),x(Et,{key:0})):A("",!0)]),p(l),p(l,{target:".app-scrollbar"})])}}}),Ce=D(Tt,[["__scopeId","data-v-d87ee2cd"]]),Vt=L({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(n,{emit:e}){const t=n,o=e,a=()=>{o("toggleClick")};return(s,l)=>{const r=k("el-icon");return d(),E("div",{onClick:a},[p(r,{size:20,class:"icon"},{default:b(()=>[t.isActive?(d(),x(h(lt),{key:0})):(d(),x(h(rt),{key:1}))]),_:1})])}}}),Rt=D(Vt,[["__scopeId","data-v-252d9bf8"]]);function It(n){for(var e=[],t=0;t<n.length;){var o=n[t];if(o==="*"||o==="+"||o==="?"){e.push({type:"MODIFIER",index:t,value:n[t++]});continue}if(o==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:n[t++]});continue}if(o==="{"){e.push({type:"OPEN",index:t,value:n[t++]});continue}if(o==="}"){e.push({type:"CLOSE",index:t,value:n[t++]});continue}if(o===":"){for(var a="",s=t+1;s<n.length;){var l=n.charCodeAt(s);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){a+=n[s++];continue}break}if(!a)throw new TypeError("Missing parameter name at ".concat(t));e.push({type:"NAME",index:t,value:a}),t=s;continue}if(o==="("){var r=1,i="",s=t+1;if(n[s]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<n.length;){if(n[s]==="\\"){i+=n[s++]+n[s++];continue}if(n[s]===")"){if(r--,r===0){s++;break}}else if(n[s]==="("&&(r++,n[s+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=n[s++]}if(r)throw new TypeError("Unbalanced pattern at ".concat(t));if(!i)throw new TypeError("Missing pattern at ".concat(t));e.push({type:"PATTERN",index:t,value:i}),t=s;continue}e.push({type:"CHAR",index:t,value:n[t++]})}return e.push({type:"END",index:t,value:""}),e}function At(n,e){e===void 0&&(e={});for(var t=It(n),o=e.prefixes,a=o===void 0?"./":o,s="[^".concat(Ft(e.delimiter||"/#?"),"]+?"),l=[],r=0,i=0,m="",u=function(P){if(i<t.length&&t[i].type===P)return t[i++].value},c=function(P){var z=u(P);if(z!==void 0)return z;var I=t[i],v=I.type,S=I.index;throw new TypeError("Unexpected ".concat(v," at ").concat(S,", expected ").concat(P))},g=function(){for(var P="",z;z=u("CHAR")||u("ESCAPED_CHAR");)P+=z;return P};i<t.length;){var w=u("CHAR"),_=u("NAME"),f=u("PATTERN");if(_||f){var y=w||"";a.indexOf(y)===-1&&(m+=y,y=""),m&&(l.push(m),m=""),l.push({name:_||r++,prefix:y,suffix:"",pattern:f||s,modifier:u("MODIFIER")||""});continue}var M=w||u("ESCAPED_CHAR");if(M){m+=M;continue}m&&(l.push(m),m="");var V=u("OPEN");if(V){var y=g(),R=u("NAME")||"",O=u("PATTERN")||"",H=g();c("CLOSE"),l.push({name:R||(O?r++:""),pattern:R&&!O?s:O,prefix:y,suffix:H,modifier:u("MODIFIER")||""});continue}c("END")}return l}function Lt(n,e){return Pt(At(n,e),e)}function Pt(n,e){e===void 0&&(e={});var t=Dt(e),o=e.encode,a=o===void 0?function(i){return i}:o,s=e.validate,l=s===void 0?!0:s,r=n.map(function(i){if(typeof i=="object")return new RegExp("^(?:".concat(i.pattern,")$"),t)});return function(i){for(var m="",u=0;u<n.length;u++){var c=n[u];if(typeof c=="string"){m+=c;continue}var g=i?i[c.name]:void 0,w=c.modifier==="?"||c.modifier==="*",_=c.modifier==="*"||c.modifier==="+";if(Array.isArray(g)){if(!_)throw new TypeError('Expected "'.concat(c.name,'" to not repeat, but got an array'));if(g.length===0){if(w)continue;throw new TypeError('Expected "'.concat(c.name,'" to not be empty'))}for(var f=0;f<g.length;f++){var y=a(g[f],c);if(l&&!r[u].test(y))throw new TypeError('Expected all "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(y,'"'));m+=c.prefix+y+c.suffix}continue}if(typeof g=="string"||typeof g=="number"){var y=a(String(g),c);if(l&&!r[u].test(y))throw new TypeError('Expected "'.concat(c.name,'" to match "').concat(c.pattern,'", but got "').concat(y,'"'));m+=c.prefix+y+c.suffix;continue}if(!w){var M=_?"an array":"a string";throw new TypeError('Expected "'.concat(c.name,'" to be ').concat(M))}}return m}}function Ft(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Dt(n){return n&&n.sensitive?"":"i"}const Ot={key:0,class:"no-redirect"},zt=["onClick"],Wt=L({__name:"index",setup(n){const e=ve(),t=me(),{listenerRouteChange:o}=ge(),a=F([]),s=()=>{a.value=e.matched.filter(i=>{var m,u;return((m=i.meta)==null?void 0:m.title)&&((u=i.meta)==null?void 0:u.breadcrumb)!==!1})},l=i=>Lt(i)(e.params),r=i=>{const{redirect:m,path:u}=i;if(m){t.push(m);return}t.push(l(u))};return o(i=>{i.path.startsWith("/redirect/")||s()},!0),(i,m)=>{const u=k("el-breadcrumb-item"),c=k("el-breadcrumb");return d(),x(c,{class:"app-breadcrumb"},{default:b(()=>[(d(!0),E(K,null,te(a.value,(g,w)=>(d(),x(u,{key:g.path},{default:b(()=>[g.redirect==="noRedirect"||w===a.value.length-1?(d(),E("span",Ot,N(g.meta.title),1)):(d(),E("a",{key:1,onClick:re(_=>r(g),["prevent"])},N(g.meta.title),9,zt))]),_:2},1024))),128))]),_:1})}}}),Bt=D(Wt,[["__scopeId","data-v-2eef2d12"]]),pe=n=>/^(https?:|mailto:|tel:)/.test(n),Nt=["href"],Ht=L({__name:"SidebarItemLink",props:{to:{}},setup(n){const e=n;return(t,o)=>{const a=k("router-link");return h(pe)(e.to)?(d(),E("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[ue(t.$slots,"default")],8,Nt)):(d(),x(a,{key:1,to:e.to},{default:b(()=>[ue(t.$slots,"default")]),_:3},8,["to"]))}}});function Z(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Ae(n,e){for(var t="",o=0,a=-1,s=0,l,r=0;r<=n.length;++r){if(r<n.length)l=n.charCodeAt(r);else{if(l===47)break;l=47}if(l===47){if(!(a===r-1||s===1))if(a!==r-1&&s===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var i=t.lastIndexOf("/");if(i!==t.length-1){i===-1?(t="",o=0):(t=t.slice(0,i),o=t.length-1-t.lastIndexOf("/")),a=r,s=0;continue}}else if(t.length===2||t.length===1){t="",o=0,a=r,s=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+n.slice(a+1,r):t=n.slice(a+1,r),o=r-a-1;a=r,s=0}else l===46&&s!==-1?++s:s=-1}return t}function Ut(n,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+n+o:o}var ae={resolve:function(){for(var e="",t=!1,o,a=arguments.length-1;a>=-1&&!t;a--){var s;a>=0?s=arguments[a]:(o===void 0&&(o=process.cwd()),s=o),Z(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Ae(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Z(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=Ae(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Z(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];Z(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":ae.normalize(e)},relative:function(e,t){if(Z(e),Z(t),e===t||(e=ae.resolve(e),t=ae.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var a=e.length,s=a-o,l=1;l<t.length&&t.charCodeAt(l)===47;++l);for(var r=t.length,i=r-l,m=s<i?s:i,u=-1,c=0;c<=m;++c){if(c===m){if(i>m){if(t.charCodeAt(l+c)===47)return t.slice(l+c+1);if(c===0)return t.slice(l+c)}else s>m&&(e.charCodeAt(o+c)===47?u=c:c===0&&(u=0));break}var g=e.charCodeAt(o+c),w=t.charCodeAt(l+c);if(g!==w)break;g===47&&(u=c)}var _="";for(c=o+u+1;c<=a;++c)(c===a||e.charCodeAt(c)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+t.slice(l+u):(l+=u,t.charCodeAt(l)===47&&++l,t.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Z(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,a=-1,s=!0,l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!s){a=l;break}}else s=!1;return a===-1?o?"/":".":o&&a===1?"//":e.slice(0,a)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Z(e);var o=0,a=-1,s=!0,l;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var r=t.length-1,i=-1;for(l=e.length-1;l>=0;--l){var m=e.charCodeAt(l);if(m===47){if(!s){o=l+1;break}}else i===-1&&(s=!1,i=l+1),r>=0&&(m===t.charCodeAt(r)?--r===-1&&(a=l):(r=-1,a=i))}return o===a?a=i:a===-1&&(a=e.length),e.slice(o,a)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!s){o=l+1;break}}else a===-1&&(s=!1,a=l+1);return a===-1?"":e.slice(o,a)}},extname:function(e){Z(e);for(var t=-1,o=0,a=-1,s=!0,l=0,r=e.length-1;r>=0;--r){var i=e.charCodeAt(r);if(i===47){if(!s){o=r+1;break}continue}a===-1&&(s=!1,a=r+1),i===46?t===-1?t=r:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||a===-1||l===0||l===1&&t===a-1&&t===o+1?"":e.slice(t,a)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Ut("/",e)},parse:function(e){Z(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),a=o===47,s;a?(t.root="/",s=1):s=0;for(var l=-1,r=0,i=-1,m=!0,u=e.length-1,c=0;u>=s;--u){if(o=e.charCodeAt(u),o===47){if(!m){r=u+1;break}continue}i===-1&&(m=!1,i=u+1),o===46?l===-1?l=u:c!==1&&(c=1):l!==-1&&(c=-1)}return l===-1||i===-1||c===0||c===1&&l===i-1&&l===r+1?i!==-1&&(r===0&&a?t.base=t.name=e.slice(1,i):t.base=t.name=e.slice(r,i)):(r===0&&a?(t.name=e.slice(1,l),t.base=e.slice(1,i)):(t.name=e.slice(r,l),t.base=e.slice(r,i)),t.ext=e.slice(l,i)),r>0?t.dir=e.slice(0,r-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ae.posix=ae;var qt=ae;const Ke=ct(qt),Jt={key:2},Kt=L({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(n){const e=n,t=T(()=>{var r;return(r=e.item.meta)==null?void 0:r.alwaysShow}),o=T(()=>{var r;return((r=e.item.children)==null?void 0:r.filter(i=>{var m;return!((m=i.meta)!=null&&m.hidden)}))??[]}),a=T(()=>o.value.length),s=T(()=>{const r=a.value;switch(!0){case r>1:return null;case r===1:return o.value[0];default:return{...e.item,path:""}}}),l=r=>{switch(!0){case pe(r):return r;case pe(e.basePath):return e.basePath;default:return Ke.resolve(e.basePath,r)}};return(r,i)=>{var w;const m=k("SvgIcon"),u=k("el-menu-item"),c=k("sidebar-item",!0),g=k("el-sub-menu");return(w=e.item.meta)!=null&&w.hidden?A("",!0):(d(),E("div",{key:0,class:U({"simple-mode":e.isCollapse&&!r.isTop,"first-level":e.isFirstLevel})},[!t.value&&s.value&&!s.value.children?(d(),E(K,{key:0},[s.value.meta?(d(),x(Ht,{key:0,to:l(s.value.path)},{default:b(()=>[p(u,{index:l(s.value.path)},Qe({default:b(()=>[s.value.meta.svgIcon?(d(),x(m,{key:0,name:s.value.meta.svgIcon},null,8,["name"])):s.value.meta.elIcon?(d(),x(ie(s.value.meta.elIcon),{key:1,class:"el-icon"})):A("",!0)]),_:2},[s.value.meta.title?{name:"title",fn:b(()=>[ee(N(s.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):A("",!0)],64)):(d(),x(g,{key:1,index:l(e.item.path),teleported:""},{title:b(()=>{var _,f,y;return[(_=e.item.meta)!=null&&_.svgIcon?(d(),x(m,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(f=e.item.meta)!=null&&f.elIcon?(d(),x(ie(e.item.meta.elIcon),{key:1,class:"el-icon"})):A("",!0),(y=e.item.meta)!=null&&y.title?(d(),E("span",Jt,N(e.item.meta.title),1)):A("",!0)]}),default:b(()=>[e.item.children?(d(!0),E(K,{key:0},te(e.item.children,_=>(d(),x(c,{key:_.path,item:_,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":l(_.path)},null,8,["item","is-collapse","base-path"]))),128)):A("",!0)]),_:1},8,["index"]))],2))}}}),Xt=D(Kt,[["__scopeId","data-v-72444830"]]),Gt="/v3-admin-vite/static/logo-Kn90oJaJ.png",Yt="/v3-admin-vite/static/logo-Kn90oJaJ.png",Zt="/v3-admin-vite/static/logo-Kn90oJaJ.png",jt=["src"],Qt=["src"],en=L({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(n){const e=n,t=Y(),{layoutMode:o}=G(t);return(a,s)=>{const l=k("router-link");return d(),E("div",{class:U(["layout-logo-container",{collapse:e.collapse,"layout-mode-top":h(o)==="top"}])},[p(We,{name:"layout-logo-fade"},{default:b(()=>[e.collapse?(d(),x(l,{key:"collapse",to:"/"},{default:b(()=>[C("img",{src:h(Gt),class:"layout-logo"},null,8,jt)]),_:1})):(d(),x(l,{key:"expand",to:"/"},{default:b(()=>[C("img",{src:h(o)!=="left"?h(Zt):h(Yt),class:"layout-logo-text"},null,8,Qt)]),_:1}))]),_:1})],2)}}}),Ee=D(en,[["__scopeId","data-v-8474c76e"]]),ce=n=>{let e="";try{e=getComputedStyle(document.documentElement).getPropertyValue(n)}catch(t){console.error(t)}return e},Le=(n,e)=>{try{document.documentElement.style.setProperty(n,e)}catch(t){console.error(t)}},tn=()=>{at(),location.reload()},nn=L({__name:"index",setup(n){Be(v=>({"1bf59174":z.value,"682b6cb0":I.value,"717664c6":H.value,"5e1994ee":P.value,"5ed40ffe":O.value}));const e=ce("--v3-sidebar-menu-bg-color"),t=ce("--v3-sidebar-menu-text-color"),o=ce("--v3-sidebar-menu-active-text-color"),a=ve(),s=ne(),l=xe(),r=Y(),{sidebar:i,device:m}=G(s),{layoutMode:u,showLogo:c}=G(r),g=T(()=>{const{meta:{activeMenu:v},path:S}=a;return v||S}),w=T(()=>!i.value.opened),_=T(()=>u.value==="left"),f=T(()=>u.value==="top"),y=T(()=>m.value===J.Mobile),M=T(()=>_.value&&c.value),V=T(()=>_.value?e:void 0),R=T(()=>_.value?t:void 0),O=T(()=>_.value?o:void 0),H=T(()=>u.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),P=T(()=>u.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),z=T(()=>u.value!=="top"?"2px":"0px"),I=T(()=>u.value==="top"?"none":"block");return(v,S)=>{const B=k("el-menu"),$=k("el-scrollbar");return d(),E("div",{class:U({"has-logo":M.value})},[M.value?(d(),x(Ee,{key:0,collapse:w.value},null,8,["collapse"])):A("",!0),p($,{"wrap-class":"scrollbar-wrapper"},{default:b(()=>[p(B,{"default-active":g.value,collapse:w.value&&!f.value,"background-color":V.value,"text-color":R.value,"active-text-color":O.value,"unique-opened":!0,"collapse-transition":!1,mode:f.value&&!y.value?"horizontal":"vertical"},{default:b(()=>[(d(!0),E(K,null,te(h(l).routes,W=>(d(),x(Xt,{key:W.path,item:W,"base-path":W.path,"is-collapse":w.value,"is-top":f.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Me=D(nn,[["__scopeId","data-v-90261ef0"]]),on={class:"card-header"},an={class:"card-title"},sn={class:"card-time"},ln={key:0,class:"card-avatar"},rn=["src"],cn={class:"card-body"},un=L({__name:"NotifyList",props:{list:{}},setup(n){const e=n;return(t,o)=>{const a=k("el-empty"),s=k("el-tag"),l=k("el-card");return e.list.length===0?(d(),x(a,{key:0})):(d(!0),E(K,{key:1},te(e.list,(r,i)=>(d(),x(l,{key:i,shadow:"never",class:"card-container"},{header:b(()=>[C("div",on,[C("div",null,[C("span",null,[C("span",an,N(r.title),1),r.extra?(d(),x(s,{key:0,type:r.status,effect:"plain",size:"small"},{default:b(()=>[ee(N(r.extra),1)]),_:2},1032,["type"])):A("",!0)]),C("div",sn,N(r.datetime),1)]),r.avatar?(d(),E("div",ln,[C("img",{src:r.avatar,width:"34"},null,8,rn)])):A("",!0)])]),default:b(()=>[C("div",cn,N(r.description??"No Data"),1)]),_:2},1024))),128))}}}),dn=D(un,[["__scopeId","data-v-137655f9"]]),fn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"普通消息",datetime:"一年前",description:"普通消息普通消息普通消息普通消息"}],pn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"消息",description:"消息消息消息消息消息",datetime:"1998-06-05"}],vn=[{title:"任务名称",description:"饿了",extra:"未开始",status:"info"}],mn={class:"notify"},_n={class:"notify-history"},Pe=99,hn=350,gn=L({__name:"index",setup(n){const e=T(()=>o.value.reduce((s,l)=>s+l.list.length,0)),t=F("通知"),o=F([{name:"通知",type:"primary",list:fn},{name:"消息",type:"danger",list:pn},{name:"待办",type:"warning",list:vn}]),a=()=>{fe.success(`跳转到${t.value}历史页面`)};return(s,l)=>{const r=k("el-icon"),i=k("el-tooltip"),m=k("el-badge"),u=k("el-scrollbar"),c=k("el-tab-pane"),g=k("el-tabs"),w=k("el-button"),_=k("el-popover");return d(),E("div",mn,[p(_,{placement:"bottom",width:hn,trigger:"click"},{reference:b(()=>[p(m,{value:e.value,max:Pe,hidden:e.value===0},{default:b(()=>[p(i,{effect:"dark",content:"消息通知",placement:"bottom"},{default:b(()=>[p(r,{size:20},{default:b(()=>[p(h(it))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:b(()=>[p(g,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=f=>t.value=f),class:"demo-tabs",stretch:""},{default:b(()=>[(d(!0),E(K,null,te(o.value,(f,y)=>(d(),x(c,{name:f.name,key:y},{label:b(()=>[ee(N(f.name)+" ",1),p(m,{value:f.list.length,max:Pe,type:f.type},null,8,["value","type"])]),default:b(()=>[p(u,{height:"400px"},{default:b(()=>[p(dn,{list:f.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),C("div",_n,[p(w,{link:"",onClick:a},{default:b(()=>[ee("查看"+N(t.value)+"历史",1)]),_:1})])]),_:1})])}}}),bn=D(gn,[["__scopeId","data-v-50089150"]]),Fe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],j=(()=>{if(typeof document>"u")return!1;const n=Fe[0],e={};for(const t of Fe)if((t==null?void 0:t[1])in document){for(const[a,s]of t.entries())e[n[a]]=s;return e}return!1})(),De={change:j.fullscreenchange,error:j.fullscreenerror};let q={request(n=document.documentElement,e){return new Promise((t,o)=>{const a=()=>{q.off("change",a),t()};q.on("change",a);const s=n[j.requestFullscreen](e);s instanceof Promise&&s.then(a).catch(o)})},exit(){return new Promise((n,e)=>{if(!q.isFullscreen){n();return}const t=()=>{q.off("change",t),n()};q.on("change",t);const o=document[j.exitFullscreen]();o instanceof Promise&&o.then(t).catch(e)})},toggle(n,e){return q.isFullscreen?q.exit():q.request(n,e)},onchange(n){q.on("change",n)},onerror(n){q.on("error",n)},on(n,e){const t=De[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=De[n];t&&document.removeEventListener(t,e,!1)},raw:j};Object.defineProperties(q,{isFullscreen:{get:()=>!!document[j.fullscreenElement]},element:{enumerable:!0,get:()=>document[j.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[j.fullscreenEnabled]}});j||(q={isEnabled:!1});const oe=q,wn=L({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(n){const e=n,t=F(!1),o=T(()=>t.value?e.exitTips:e.openTips),a=T(()=>t.value?"fullscreen-exit":"fullscreen"),s=()=>{const c=document.querySelector(e.element)||void 0;oe.isEnabled?oe.toggle(c):fe.warning("您的浏览器无法工作")},l=()=>{t.value=oe.isFullscreen};de(c=>{oe.on("change",l),c(()=>{oe.isEnabled&&oe.off("change",l)})});const r=F(!1),i=T(()=>r.value?"内容区复原":"内容区放大"),m=T(()=>r.value?"fullscreen-exit":"fullscreen"),u=()=>{document.body.className=r.value?"":"content-large",r.value=!r.value};return(c,g)=>{const w=k("SvgIcon"),_=k("el-tooltip"),f=k("el-dropdown-item"),y=k("el-dropdown-menu"),M=k("el-dropdown");return d(),E("div",null,[c.content?(d(),x(M,{key:1},{dropdown:b(()=>[p(y,null,{default:b(()=>[p(f,{onClick:u},{default:b(()=>[ee(N(i.value),1)]),_:1}),p(f,{onClick:s,disabled:t.value},{default:b(()=>[ee("内容区全屏")]),_:1},8,["disabled"])]),_:1})]),default:b(()=>[p(w,{name:m.value},null,8,["name"])]),_:1})):(d(),x(_,{key:0,effect:"dark",content:o.value,placement:"bottom"},{default:b(()=>[p(w,{name:a.value,onClick:s},null,8,["name"])]),_:1},8,["content"]))])}}}),Xe=D(wn,[["__scopeId","data-v-9e7c36e4"]]),yn=["onMouseenter"],kn={class:"result-item-title"},Sn=L({__name:"SearchResult",props:{modelValue:{},list:{},isPressUpOrDown:{type:Boolean}},emits:["update:modelValue"],setup(n,{expose:e,emit:t}){const o=n,a=t,s=Ne(),l=F(0),r=T({get(){return o.modelValue},set(g){a("update:modelValue",g)}}),i=g=>{const w=g.name===r.value;return{background:w?"var(--el-color-primary)":"",color:w?"#fff":""}},m=g=>{o.isPressUpOrDown||(r.value=g.name)},u=()=>{l.value=Number((window.innerHeight*.4).toFixed(1))},c=g=>{var y;const w=(y=s==null?void 0:s.proxy)==null?void 0:y.$refs[`resultItemRef${g}`];if(!w)return 0;const f=w[0].offsetTop+128;return f>l.value?f-l.value:0};return ze(()=>{window.addEventListener("resize",u)}),we(()=>{u()}),ye(()=>{window.removeEventListener("resize",u)}),e({getScrollTop:c}),(g,w)=>{const _=k("SvgIcon");return d(),E("div",null,[(d(!0),E(K,null,te(g.list,(f,y)=>{var M,V,R;return d(),E("div",{key:y,ref_for:!0,ref:`resultItemRef${y}`,class:"result-item",style:He(i(f)),onMouseenter:O=>m(f)},[(M=f.meta)!=null&&M.svgIcon?(d(),x(_,{key:0,name:f.meta.svgIcon},null,8,["name"])):(V=f.meta)!=null&&V.elIcon?(d(),x(ie(f.meta.elIcon),{key:1,class:"el-icon"})):A("",!0),C("span",kn,N((R=f.meta)==null?void 0:R.title),1),r.value&&r.value===f.name?(d(),x(_,{key:2,name:"keyboard-enter"})):A("",!0)],44,yn)}),128))])}}}),xn=D(Sn,[["__scopeId","data-v-7383ebb0"]]),$e=n=>(ke("data-v-3171d360"),n=n(),Se(),n),Cn={class:"search-footer"},En={class:"search-footer-item"},Mn=$e(()=>C("span",null,"确认",-1)),$n={class:"search-footer-item"},Tn=$e(()=>C("span",null,"切换",-1)),Vn={class:"search-footer-item"},Rn=$e(()=>C("span",null,"关闭",-1)),In={class:"search-footer-total"},An=L({__name:"SearchFooter",props:{total:{}},setup(n){const e=n,t=ne(),o=T(()=>t.device===J.Mobile);return(a,s)=>{const l=k("SvgIcon");return d(),E("div",Cn,[o.value?A("",!0):(d(),E(K,{key:0},[C("span",En,[p(l,{name:"keyboard-enter"}),Mn]),C("span",$n,[p(l,{name:"keyboard-up"}),p(l,{name:"keyboard-down"}),Tn]),C("span",Vn,[p(l,{name:"keyboard-esc"}),Rn])],64)),C("span",In,"共 "+N(e.total)+" 项",1)])}}}),Ln=D(An,[["__scopeId","data-v-3171d360"]]),Pn=C("p",null,"搜索结果",-1),Fn=L({__name:"SearchModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,o=e,a=ne(),s=me(),l=F(null),r=F(null),i=F(null),m=F(""),u=et([]),c=F(void 0),g=F(!1),w=T(()=>a.device===J.Mobile?"80vw":"40vw"),_=T({get(){return t.modelValue},set(I){o("update:modelValue",I)}}),f=T(()=>ut(xe().routes)),y=se(()=>{var S;const I=M(f.value);u.value=I.filter(B=>{var $,W;return m.value?(W=($=B.meta)==null?void 0:$.title)==null?void 0:W.toLocaleLowerCase().includes(m.value.toLocaleLowerCase().trim()):!1});const v=(S=u.value)==null?void 0:S.length;c.value=v>0?u.value[0].name:void 0},500),M=(I,v=[])=>(I.forEach(S=>{v.push(S),S.children&&M(S.children,v)}),v),V=()=>{_.value=!1,setTimeout(()=>{m.value="",u.value=[]},200)},R=I=>{var S;if(!i.value)return;const v=i.value.getScrollTop(I);(S=r.value)==null||S.setScrollTop(v)},O=()=>{g.value=!0;const{length:I}=u.value;if(I===0)return;const v=u.value.findIndex(S=>S.name===c.value);if(v===0){const S=u.value[I-1].name;c.value===S&&I>1?(c.value=u.value[I-2].name,R(I-2)):(c.value=S,R(I-1))}else c.value=u.value[v-1].name,R(v-1)},H=()=>{g.value=!0;const{length:I}=u.value;if(I===0)return;const v=u.value.map(S=>S.name).lastIndexOf(c.value);if(v===I-1){const S=u.value[0].name;c.value===S&&I>1?(c.value=u.value[1].name,R(1)):(c.value=S,R(0))}else c.value=u.value[v+1].name,R(v+1)},P=()=>{var B;const{length:I}=u.value;if(I===0)return;const v=c.value,S=(B=u.value.find($=>$.name===v))==null?void 0:B.path;if(S&&pe(S)){window.open(S,"_blank","noopener, noreferrer");return}if(!v){fe.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{s.push({name:v})}catch{fe.error("该菜单有必填的动态参数，无法通过搜索进入");return}V()},z=()=>{g.value=!1};return(I,v)=>{const S=k("SvgIcon"),B=k("el-input"),$=k("el-empty"),W=k("el-dialog");return d(),x(W,{modelValue:_.value,"onUpdate:modelValue":v[2]||(v[2]=X=>_.value=X),onOpened:v[3]||(v[3]=X=>{var Q;return(Q=l.value)==null?void 0:Q.focus()}),onClosed:v[4]||(v[4]=X=>{var Q;return(Q=l.value)==null?void 0:Q.blur()}),onKeydown:[le(O,["up"]),le(H,["down"]),le(P,["enter"])],onKeyup:le(z,["up","down"]),"before-close":V,width:w.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:b(()=>[p(Ln,{total:u.value.length},null,8,["total"])]),default:b(()=>[p(B,{ref_key:"inputRef",ref:l,modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=X=>m.value=X),onInput:h(y),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:b(()=>[p(S,{name:"search"})]),_:1},8,["modelValue","onInput"]),u.value.length===0?(d(),x($,{key:0,description:"暂无搜索结果","image-size":100})):(d(),E(K,{key:1},[Pn,p(h(qe),{ref_key:"scrollbarRef",ref:r,"max-height":"40vh",always:""},{default:b(()=>[p(xn,{ref_key:"searchResultRef",ref:i,modelValue:c.value,"onUpdate:modelValue":v[1]||(v[1]=X=>c.value=X),list:u.value,isPressUpOrDown:g.value,onClick:P},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),Dn=L({__name:"index",setup(n){const e=F(!1),t=()=>{e.value=!0};return(o,a)=>{const s=k("SvgIcon"),l=k("el-tooltip");return d(),E("div",null,[p(l,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:b(()=>[p(s,{name:"search",onClick:t})]),_:1}),p(Fn,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=r=>e.value=r)},null,8,["modelValue"])])}}}),On=D(Dn,[["__scopeId","data-v-dc5accb4"]]),zn=n=>(ke("data-v-97ad3b2a"),n=n(),Se(),n),Wn={class:"navigation-bar"},Bn={class:"right-menu"},Nn={class:"right-menu-avatar"},Hn=zn(()=>C("span",{style:{display:"block"}},"退出登录",-1)),Un=L({__name:"index",setup(n){const e=me(),t=ne(),o=Y(),a=st(),{sidebar:s,device:l}=G(t),{layoutMode:r,showNotify:i,showThemeSwitch:m,showScreenfull:u,showSearchMenu:c}=G(o),g=T(()=>r.value==="top"),w=T(()=>l.value===J.Mobile),_=()=>{t.toggleSidebar(!1)},f=()=>{a.logout(),e.push("/login")};return(y,M)=>{const V=k("el-avatar"),R=k("el-dropdown-item"),O=k("el-dropdown-menu"),H=k("el-dropdown");return d(),E("div",Wn,[!g.value||w.value?(d(),x(Rt,{key:0,"is-active":h(s).opened,class:"hamburger",onToggleClick:_},null,8,["is-active"])):A("",!0),!g.value||w.value?(d(),x(Bt,{key:1,class:"breadcrumb"})):A("",!0),g.value&&!w.value?(d(),x(Me,{key:2,class:"sidebar"})):A("",!0),C("div",Bn,[h(c)?(d(),x(On,{key:0,class:"right-menu-item"})):A("",!0),h(u)?(d(),x(Xe,{key:1,class:"right-menu-item"})):A("",!0),h(m)?(d(),x(ht,{key:2,class:"right-menu-item"})):A("",!0),h(i)?(d(),x(bn,{key:3,class:"right-menu-item"})):A("",!0),p(H,{class:"right-menu-item"},{dropdown:b(()=>[p(O,null,{default:b(()=>[p(R,{divided:"",onClick:f},{default:b(()=>[Hn]),_:1})]),_:1})]),default:b(()=>[C("div",Nn,[p(V,{icon:h(dt),size:30},null,8,["icon"]),C("span",null,N(h(a).username),1)])]),_:1})])])}}}),Te=D(Un,[["__scopeId","data-v-97ad3b2a"]]),qn={class:"select-layout-mode"},Jn=L({__name:"SelectLayoutMode",setup(n){const e=Y(),{layoutMode:t}=G(e),o=T(()=>t.value==="left"),a=T(()=>t.value==="top"),s=T(()=>t.value==="left-top");return(l,r)=>{const i=k("el-aside"),m=k("el-header"),u=k("el-main"),c=k("el-container"),g=k("el-tooltip");return d(),E("div",qn,[p(g,{content:"左侧模式"},{default:b(()=>[p(c,{class:U(["layout-mode left",{active:o.value}]),onClick:r[0]||(r[0]=w=>t.value="left")},{default:b(()=>[p(i),p(c,null,{default:b(()=>[p(m),p(u)]),_:1})]),_:1},8,["class"])]),_:1}),p(g,{content:"顶部模式"},{default:b(()=>[p(c,{class:U(["layout-mode top",{active:a.value}]),onClick:r[1]||(r[1]=w=>t.value="top")},{default:b(()=>[p(m),p(u)]),_:1},8,["class"])]),_:1}),p(g,{content:"混合模式"},{default:b(()=>[p(c,{class:U(["layout-mode left-top",{active:s.value}]),onClick:r[2]||(r[2]=w=>t.value="left-top")},{default:b(()=>[p(m),p(c,null,{default:b(()=>[p(i),p(u)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),Kn=D(Jn,[["__scopeId","data-v-e7938886"]]),Ge=n=>(ke("data-v-9755a2c0"),n=n(),Se(),n),Xn={class:"setting-container"},Gn=Ge(()=>C("h4",null,"布局配置",-1)),Yn=Ge(()=>C("h4",null,"功能配置",-1)),Zn={class:"setting-name"},jn=L({__name:"index",setup(n){const e=Y(),{layoutMode:t,showTagsView:o,showLogo:a,fixedHeader:s,showFooter:l,showNotify:r,showThemeSwitch:i,showScreenfull:m,showSearchMenu:u,cacheTagsView:c,showWatermark:g,showGreyMode:w,showColorWeakness:_}=G(e),f={显示标签栏:o,"显示 Logo":a,"固定 Header":s,"显示页脚 Footer":l,显示消息通知:r,显示切换主题按钮:i,显示全屏按钮:m,显示搜索按钮:u,是否缓存标签栏:c,开启系统水印:g,显示灰色模式:w,显示色弱模式:_};return de(()=>{t.value!=="left"&&(s.value=!0)}),(y,M)=>{const V=k("el-divider"),R=k("el-switch"),O=k("el-button");return d(),E("div",Xn,[Gn,p(Kn),p(V),Yn,(d(),E(K,null,te(f,(H,P,z)=>C("div",{class:"setting-item",key:z},[C("span",Zn,N(P),1),p(R,{modelValue:H.value,"onUpdate:modelValue":I=>H.value=I,disabled:h(t)!=="left"&&P==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),p(O,{type:"danger",icon:h(ft),onClick:h(tn)},{default:b(()=>[ee("重 置")]),_:1},8,["icon","onClick"])])}}}),Qn=D(jn,[["__scopeId","data-v-9755a2c0"]]),eo={class:"scroll-container"},to=200,no=L({__name:"ScrollPane",props:{tagRefs:{}},setup(n){const e=n,t=ve(),o=Y(),{listenerRouteChange:a}=ge(),s=F(),l=F();let r=0;const i=({scrollLeft:w})=>{r=w},m=({deltaY:w})=>{/^-/.test(w.toString())?c("left"):c("right")},u=()=>{const w=l.value.clientWidth,_=s.value.wrapRef.clientWidth,f=w-_-r;return{scrollbarContentRefWidth:w,scrollbarRefWidth:_,lastDistance:f}},c=(w,_=to)=>{let f=0;const{scrollbarContentRefWidth:y,scrollbarRefWidth:M,lastDistance:V}=u();M>y||(w==="left"?f=Math.max(0,r-_):f=Math.min(r+_,r+V),s.value.setScrollLeft(f))},g=()=>{const w=e.tagRefs;for(let _=0;_<w.length;_++)if(t.path===w[_].$props.to.path){const f=w[_].$el,y=f.offsetWidth,M=f.offsetLeft,{scrollbarRefWidth:V}=u();if(M<r){const O=r-M;c("left",O);return}const R=V+r-y;if(M>R){const O=M-R;c("right",O);return}}};return a(()=>{tt(g)}),(w,_)=>{const f=k("el-icon");return d(),E("div",eo,[p(f,{class:"arrow left",onClick:_[0]||(_[0]=y=>c("left"))},{default:b(()=>[p(h(pt))]),_:1}),p(h(qe),{ref_key:"scrollbarRef",ref:s,onWheelPassive:m,onScroll:i},{default:b(()=>[C("div",{ref_key:"scrollbarContentRef",ref:l,class:"scrollbar-content"},[ue(w.$slots,"default",{},void 0,!0)],512)]),_:3},512),p(f,{class:"arrow right",onClick:_[1]||(_[1]=y=>c("right"))},{default:b(()=>[p(h(vt))]),_:1}),h(o).showScreenfull?(d(),x(Xe,{key:0,element:".app-main",content:!0,class:"screenfull"})):A("",!0)])}}}),oo=D(no,[["__scopeId","data-v-519b3baa"]]),ao={class:"tags-view-container"},so=L({__name:"index",setup(n){const e=Ne(),t=me(),o=ve(),a=Ue(),s=xe(),{listenerRouteChange:l}=ge(),r=F([]),i=F(!1),m=F(0),u=F(0),c=F({});let g=[];const w=v=>v.path===o.path,_=v=>{var S;return(S=v.meta)==null?void 0:S.affix},f=(v,S="/")=>{const B=[];return v.forEach($=>{if(_($)){const W=Ke.resolve(S,$.path);B.push({fullPath:W,path:W,name:$.name,meta:{...$.meta}})}if($.children){const W=f($.children,$.path);B.push(...W)}}),B},y=()=>{g=f(s.routes);for(const v of g)v.name&&a.addVisitedView(v)},M=v=>{v.name&&(a.addVisitedView(v),a.addCachedView(v))},V=v=>{a.delCachedView(v),t.replace({path:"/redirect"+v.path,query:v.query})},R=v=>{a.delVisitedView(v),a.delCachedView(v),w(v)&&P(a.visitedViews,v)},O=()=>{const v=c.value.fullPath;v!==o.path&&v!==void 0&&t.push(v),a.delOthersVisitedViews(c.value),a.delOthersCachedViews(c.value)},H=v=>{a.delAllVisitedViews(),a.delAllCachedViews(),!g.some(S=>S.path===o.path)&&P(a.visitedViews,v)},P=(v,S)=>{const B=v.slice(-1)[0],$=B==null?void 0:B.fullPath;$!==void 0?t.push($):S.name==="Dashboard"?t.push({path:"/redirect"+S.path,query:S.query}):t.push("/")},z=(v,S)=>{const $=e.proxy.$el.getBoundingClientRect().left,X=e.proxy.$el.offsetWidth-105,Q=S.clientX-$+15;u.value=Q>X?X:Q,m.value=S.clientY,i.value=!0,c.value=v},I=()=>{i.value=!1};return Oe(i,v=>{v?document.body.addEventListener("click",I):document.body.removeEventListener("click",I)}),we(()=>{y(),l(async v=>{M(v)},!0)}),(v,S)=>{const B=k("el-icon");return d(),E("div",ao,[p(oo,{class:"tags-view-wrapper","tag-refs":r.value},{default:b(()=>[(d(!0),E(K,null,te(h(a).visitedViews,$=>(d(),x(h(nt),{ref_for:!0,ref_key:"tagRefs",ref:r,key:$.path,class:U([{active:w($)},"tags-view-item"]),to:{path:$.path,query:$.query},onMouseup:re(W=>!_($)&&R($),["middle"]),onContextmenu:re(W=>z($,W),["prevent"])},{default:b(()=>{var W;return[ee(N((W=$.meta)==null?void 0:W.title)+" ",1),_($)?A("",!0):(d(),x(B,{key:0,size:12,onClick:re(X=>R($),["prevent","stop"])},{default:b(()=>[p(h(mt))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),_e(C("ul",{class:"contextmenu",style:He({left:u.value+"px",top:m.value+"px"})},[C("li",{onClick:S[0]||(S[0]=$=>V(c.value))},"刷新"),_(c.value)?A("",!0):(d(),E("li",{key:0,onClick:S[1]||(S[1]=$=>R(c.value))},"关闭")),C("li",{onClick:O},"关闭其它"),C("li",{onClick:S[2]||(S[2]=$=>H(c.value))},"关闭所有")],4),[[he,i.value]])])}}}),Ve=D(so,[["__scopeId","data-v-3bc82890"]]),lo=L({__name:"index",props:{buttonTop:{default:350}},setup(n){Be(a=>({eee8c778:t}));const t=n.buttonTop+"px",o=F(!1);return(a,s)=>{const l=k("el-icon"),r=k("el-drawer");return d(),E(K,null,[C("div",{class:"handle-button",onClick:s[0]||(s[0]=i=>o.value=!0)},[p(l,{size:24},{default:b(()=>[p(h(_t))]),_:1})]),p(r,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=i=>o.value=i),size:"300px","with-header":!1},{default:b(()=>[ue(a.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),ro=D(lo,[["__scopeId","data-v-ec8bae57"]]),co=L({__name:"LeftMode",setup(n){const e=ne(),t=Y(),{showTagsView:o,fixedHeader:a}=G(t),s=T(()=>({hideSidebar:!e.sidebar.opened,openSidebar:e.sidebar.opened,withoutAnimation:e.sidebar.withoutAnimation,mobile:e.device===J.Mobile})),l=()=>{e.closeSidebar(!1)};return(r,i)=>(d(),E("div",{class:U([s.value,"app-wrapper"])},[s.value.mobile&&s.value.openSidebar?(d(),E("div",{key:0,class:"drawer-bg",onClick:l})):A("",!0),p(h(Me),{class:"sidebar-container"}),C("div",{class:U([{hasTagsView:h(o)},"main-container"])},[C("div",{class:U([{"fixed-header":h(a)},"layout-header"])},[p(h(Te)),_e(p(h(Ve),null,null,512),[[he,h(o)]])],2),p(h(Ce),{class:"app-main"})],2)],2))}}),io=D(co,[["__scopeId","data-v-c751cae0"]]),uo={class:"app-wrapper"},fo={class:"fixed-header layout-header"},po={class:"content"},vo=L({__name:"TopMode",setup(n){const e=Y(),{showTagsView:t,showLogo:o}=G(e);return(a,s)=>(d(),E("div",uo,[C("div",fo,[C("div",po,[h(o)?(d(),x(h(Ee),{key:0,collapse:!1,class:"logo"})):A("",!0),p(h(Te),{class:"navigation-bar"})]),_e(p(h(Ve),null,null,512),[[he,h(t)]])]),C("div",{class:U([{hasTagsView:h(t)},"main-container"])},[p(h(Ce),{class:"app-main"})],2)]))}}),mo=D(vo,[["__scopeId","data-v-5a9c676b"]]),_o={class:"fixed-header layout-header"},ho={class:"content"},go=L({__name:"LeftTopMode",setup(n){const e=ne(),t=Y(),{showTagsView:o,showLogo:a}=G(t),s=T(()=>({hideSidebar:!e.sidebar.opened}));return(l,r)=>(d(),E("div",{class:U([s.value,"app-wrapper"])},[C("div",_o,[h(a)?(d(),x(h(Ee),{key:0,collapse:!1,class:"logo"})):A("",!0),C("div",ho,[p(h(Te)),_e(p(h(Ve),null,null,512),[[he,h(o)]])])]),C("div",{class:U([{hasTagsView:h(o)},"main-container"])},[p(h(Me),{class:"sidebar-container"}),p(h(Ce),{class:"app-main"})],2)],2))}}),bo=D(go,[["__scopeId","data-v-73d109f7"]]),be="--v3-tagsview-height",wo=L({__name:"index",setup(n){yt();const{setWatermark:e,clearWatermark:t}=St(),o=ne(),a=Y(),{showSettings:s,layoutMode:l,showTagsView:r,showWatermark:i,showGreyMode:m,showColorWeakness:u}=G(a),c=T(()=>({showGreyMode:m.value,showColorWeakness:u.value})),g=ce(be);return de(()=>{r.value?Le(be,g):Le(be,"0px")}),de(()=>{i.value?e("Black Box"):t()}),(w,_)=>(d(),E("div",{class:U(c.value)},[h(l)==="left"||h(o).device===h(J).Mobile?(d(),x(io,{key:0})):h(l)==="top"?(d(),x(mo,{key:1})):h(l)==="left-top"?(d(),x(bo,{key:2})):A("",!0),h(s)?(d(),x(h(ro),{key:3},{default:b(()=>[p(h(Qn))]),_:1})):A("",!0)],2))}}),Eo=D(wo,[["__scopeId","data-v-45f3bd78"]]);export{Eo as default};
